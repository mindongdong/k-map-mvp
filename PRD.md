## **K-map: 생물학 데이터 포털 MVP 제품 요구사항 문서 (PRD) v1**

### **1\. 개요 (Overview)**

이 문서는 'K-map' 프로젝트의 MVP(Minimum Viable Product) 개발에 대한 최종 제품 요구사항을 정의합니다. 본 프로젝트는 복잡한 생물학 데이터에 대한 접근성을 높이고, 연구 그룹이 보유한 **독자적인 한국인 인체 데이터를 제공**하며, **최적화된 시각화 경험을 제공**하는 것을 목표로 합니다.

### **2\. 핵심 가치 및 목표**

K-map은 기존 데이터 포털의 문제점을 해결하고 다음과 같은 핵심 가치를 제공합니다.

* **직관적인 UI/UX 제공:** 연구자가 필요한 데이터를 복잡한 과정 없이 직관적으로 찾고 접근할 수 있도록 합니다.  
* **독자적인 데이터셋 제공:** 다른 곳에서 얻기 힘든 **한국인 인체 생물학 데이터**를 중심으로 제공하여 연구의 폭을 넓힙니다.  
* **빠른 시각화 속도:** 데이터베이스 및 렌더링 최적화를 통해 대용량 데이터 시각화의 대기 시간(Latency)을 최소화합니다.

#### **2.1. 성공 지표**

* 프로젝트 기간 내에 기획된 모든 기능이 에러 없이 동작하고 성공적으로 배포된다.  
* 타겟 사용자인 생물정보학 연구자들에게 시연 및 테스트 후, 긍정적인 사용성 피드백을 받는다.

---

### **3\. 타겟 사용자 (Target Audience)**

* **주요 사용자:** 생물정보학 연구원, 의료 종사자(의사, 연구원), 관련 전공 학생  
* **요구 역량:** 생물학 데이터의 의미를 이해하고, 본인의 연구 목적에 맞는 데이터를 스스로 찾아서 활용할 수 있는 수준의 도메인 지식 보유자

---

### **4\. 기능 요구사항 (Features)**

#### **4.1. 데이터셋 페이지**

사용자가 데이터를 탐색하고 상세 정보를 확인하는 핵심 페이지입니다.

* **4.1.1. 목록 보기 (List View)**  
  * 사용자는 다음 컬럼으로 구성된 데이터셋 목록을 확인할 수 있습니다: Dataset ID, Group, Data Type, Organ, Status, Publication Date.  
  * 각 컬럼의 헤더를 기준으로 **문자열 그룹 필터링** 기능을 제공합니다.  
* **4.1.2. 상세 보기 (Detail View)**  
  * 사용자가 목록에서 특정 데이터셋을 클릭하면 상세 정보 페이지로 이동합니다.  
  * 상세 페이지는 다음의 정보를 포함해야 합니다.  
    * **요약 (Summary):** 데이터셋에 대한 설명(Description), 연구 그룹, 공개일  
    * **데이터 테이블 (Data Table):** 데이터셋을 구성하는 개별 파일들을 확인하고 다운로드할 수 있는 테이블  
    * **저작자 정보 (Attribution):** 데이터 인용을 위한 정보  
    * **상세 기술 메타데이터 (Detailed Technical Metadata):** 관리자가 입력한 Key-Value 형식의 상세 기술 정보를 **표(Table) 형태**로 표시합니다.

#### **4.2. 데이터 시각화 페이지**

사용자가 데이터의 의미를 시각적으로 탐색하고 인사이트를 얻는 페이지입니다. 모든 차트는 Plotly 라이브러리를 기반으로 구현하며, 기본적인 확대/축소/패닝 및 호버(hover) 시 정보 표시 기능을 지원합니다.

* **4.2.1. 복합 시각화 (Composite Visualization)**  
  * 한 화면에서 유전자 발현량(Boxplot), 세포 비율(Pie chart), 세포 수(Dot plot)를 종합적으로 보여줍니다.  
* **4.2.2. UMAP Scatter Plot**  
  * 차원 축소된 세포 데이터를 2D 공간에 시각화하여 세포 타입(celltype)별 분포를 색상으로 구분해 보여줍니다.  
* **4.2.3. 조직별 유전자 발현 Boxplot**  
  * 특정 유전자가 각 조직(tissue)에서 발현되는 양의 분포를 Boxplot으로 비교하여 보여줍니다.  
* **4.2.4. 계층적 클러스터링 히트맵 (Clustered Heatmap)**  
  * 여러 유전자와 조직 간의 발현량 패턴을 히트맵과 덴드로그램으로 시각화하여 유사한 패턴끼리 그룹화해 보여줍니다.  
* **4.2.5. 개발 우선순위**  
  * 3주차 스프린트의 현실적인 목표 달성을 위해 다음과 같이 개발 우선순위를 설정합니다.  
    * **1순위 (Highest Priority):** UMAP Scatter Plot  
    * **2순위 (High Priority):** 계층적 클러스터링 히트맵 (Clustered Heatmap)  
    * **후순위 (Lower Priority):** 복합 시각화, 조직별 유전자 발현 Boxplot

#### **4.3. 관리자 페이지**

데이터 관리를 위한 기능이며, 관리자 로그인을 통해서만 접근이 가능합니다.

* **4.3.1. 관리자 인증**  
  * 관리자 계정을 위한 로그인 기능이 구현됩니다.  
* **4.3.2. 데이터 관리 (CRUD)**  
  * 관리자는 데이터셋 및 관련 메타데이터를  
    **생성(업로드), 수정, 삭제**할 수 있습니다5.  
  * MVP 단계에서는 **.csv, .json, .h5ad** 파일 형식의 업로드를 지원합니다.  
* **4.3.3. 데이터 업로드/수정 폼 명세**  
  * 관리자가 데이터를 업로드하거나 수정할 때 사용하는 폼은 다음과 같이 구성합니다.  
  * **주요 메타데이터 (Primary Metadata):**  
    * Dataset ID: **텍스트 입력 (Text Input)**  
    * Data Type: **드롭다운 선택 (필요시 직접 입력 옵션 제공)**  
    * Organ: **드롭다운 선택 (필요시 직접 입력 옵션 제공)**  
    * Description: **여러 줄 텍스트 입력 (Text Area)**  
    * Group: **텍스트 입력 (Text Input)**  
    * Citation (DOI 링크 등): **텍스트 입력 (Text Input)**  
    * Publication Date: **날짜 선택 (Date Picker)**  
  * **상세 기술 메타데이터 (Detailed Technical Metadata):**  
    * **Key-Value 쌍 입력:** 관리자가 '필드 추가' 버튼을 눌러 Key(항목 이름)와 Value(값)를 입력할 수 있는 필드를 동적으로 생성하고 데이터를 추가합니다.

---

### **5\. 범위 제외 사항 (Out of Scope for MVP)**

다음 기능들은 이번 4주 MVP 개발 범위에 포함되지 않습니다.

* 일반 사용자(연구자)를 위한 회원가입 및 로그인 기능  
* 사용자 그룹별 복잡한 데이터 접근 권한 관리  
* 대용량 파일(수십 GB 이상)의 안정적인 업로드 및 처리를 위한 별도 아키텍처